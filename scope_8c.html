<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Luma: src/typechecker/scope.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Luma<span id="projectnumber">&#160;0.1.0</span>
   </div>
   <div id="projectbrief">A low-level compiled alternative to C, C++, and more!</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_0f5609d4dfa0aca0fe24774b788bf9c4.html">typechecker</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">scope.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of scope and symbol table management functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="memory_8h_source.html">../c_libs/memory/memory.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="type_8h_source.html">type.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for scope.c:</div>
<div class="dyncontent">
<div class="center"><img src="scope_8c__incl.png" border="0" usemap="#asrc_2typechecker_2scope_8c" alt=""/></div>
<map name="asrc_2typechecker_2scope_8c" id="asrc_2typechecker_2scope_8c">
<area shape="rect" title="Implementation of scope and symbol table management functions." alt="" coords="1769,5,1946,31"/>
<area shape="rect" title=" " alt="" coords="1683,299,1749,324"/>
<area shape="poly" title=" " alt="" coords="1854,32,1730,287,1725,285,1849,30"/>
<area shape="rect" title=" " alt="" coords="1774,299,1845,324"/>
<area shape="poly" title=" " alt="" coords="1862,30,1867,68,1870,123,1867,188,1853,252,1844,272,1831,290,1827,287,1839,269,1848,250,1861,187,1864,123,1861,69,1857,31"/>
<area shape="rect" href="memory_8h.html" title="Arena allocator and growable array utilities for fast memory management." alt="" coords="362,445,561,471"/>
<area shape="poly" title=" " alt="" coords="1871,29,1890,52,1911,84,1929,122,1936,163,1936,313,1933,326,1924,339,1890,360,1838,379,1770,396,1594,421,1383,439,1156,451,932,457,574,460,574,455,932,452,1156,445,1383,434,1594,416,1769,390,1837,374,1888,356,1920,335,1928,324,1931,312,1931,164,1924,124,1907,87,1885,55,1867,33"/>
<area shape="rect" href="type_8h.html" title="Type checking and symbol table management for AST nodes with memory tracking." alt="" coords="275,79,338,104"/>
<area shape="poly" title=" " alt="" coords="1769,26,352,91,352,85,1768,21"/>
<area shape="rect" title=" " alt="" coords="513,519,599,544"/>
<area shape="poly" title=" " alt="" coords="478,469,531,508,528,512,475,473"/>
<area shape="rect" title=" " alt="" coords="40,519,123,544"/>
<area shape="poly" title=" " alt="" coords="401,473,137,522,136,517,400,468"/>
<area shape="rect" title=" " alt="" coords="328,519,403,544"/>
<area shape="poly" title=" " alt="" coords="447,473,394,512,391,508,444,469"/>
<area shape="poly" title=" " alt="" coords="338,92,650,112,884,130,1137,154,1386,182,1605,216,1696,234,1770,254,1825,275,1858,297,1864,311,1858,326,1832,343,1790,359,1734,373,1665,386,1497,407,1302,424,897,447,575,457,575,452,897,442,1302,419,1496,402,1664,380,1733,368,1789,354,1830,339,1854,322,1859,311,1854,300,1823,279,1769,259,1695,239,1604,221,1385,187,1137,159,883,136,649,117,338,97"/>
<area shape="rect" href="ast_8h.html" title=" " alt="" coords="93,299,184,324"/>
<area shape="poly" title=" " alt="" coords="275,97,215,103,144,114,79,131,55,141,39,154,25,177,22,200,27,223,40,249,61,274,90,291,87,295,58,278,35,252,22,225,16,200,20,176,35,150,52,137,77,126,143,109,214,98,275,92"/>
<area shape="rect" href="lexer_8h.html" title="Tokenizer (lexer) definitions and API for lexical analysis of source code." alt="" coords="246,372,359,397"/>
<area shape="poly" title=" " alt="" coords="280,106,244,124,203,151,164,185,148,205,134,226,131,238,134,249,147,267,161,276,178,284,198,296,279,361,276,365,194,301,175,289,158,281,143,270,130,252,126,238,130,224,143,202,160,181,200,146,241,120,278,102"/>
<area shape="rect" href="help_8h.html" title="Declarations for command&#45;line parsing, file reading, and build configuration." alt="" coords="247,152,366,177"/>
<area shape="poly" title=" " alt="" coords="309,104,309,138,304,138,304,104"/>
<area shape="poly" title=" " alt="" coords="150,323,185,359,209,378,235,395,300,422,367,440,366,445,299,427,232,400,206,383,182,363,147,326"/>
<area shape="poly" title=" " alt="" coords="138,325,91,506,85,504,133,324"/>
<area shape="poly" title=" " alt="" coords="147,323,187,390,219,431,256,469,291,492,326,511,324,515,288,497,253,473,215,435,183,393,142,325"/>
<area shape="poly" title=" " alt="" coords="166,322,265,364,262,369,164,326"/>
<area shape="poly" title=" " alt="" coords="329,395,424,437,422,442,327,400"/>
<area shape="rect" title=" " alt="" coords="267,445,338,471"/>
<area shape="poly" title=" " alt="" coords="305,398,305,432,300,432,300,398"/>
<area shape="poly" title=" " alt="" coords="367,167,580,180,900,206,1278,244,1473,268,1664,296,1670,297,1669,302,1664,301,1473,274,1278,249,900,211,579,186,366,172"/>
<area shape="poly" title=" " alt="" coords="315,176,451,432,446,434,310,179"/>
<area shape="poly" title=" " alt="" coords="247,171,173,181,133,191,94,205,60,223,33,246,15,275,8,310,8,386,13,421,27,454,45,483,63,507,59,510,41,486,22,456,8,422,3,386,3,310,10,273,29,242,57,218,92,200,131,186,172,176,247,166"/>
<area shape="poly" title=" " alt="" coords="248,172,217,178,186,188,157,204,134,227,128,240,126,255,131,285,126,286,121,255,123,239,130,224,154,200,183,183,215,173,247,166"/>
<area shape="poly" title=" " alt="" coords="312,177,319,225,318,298,310,359,305,358,312,298,313,226,306,178"/>
<area shape="rect" title=" " alt="" coords="145,225,215,251"/>
<area shape="poly" title=" " alt="" coords="288,180,214,221,211,216,285,175"/>
<area shape="rect" title=" " alt="" coords="240,225,304,251"/>
<area shape="poly" title=" " alt="" coords="303,179,286,214,281,212,299,176"/>
<area shape="rect" href="llvm_8h.html" title=" " alt="" coords="806,225,914,251"/>
<area shape="poly" title=" " alt="" coords="367,171,793,225,792,231,366,176"/>
<area shape="poly" title=" " alt="" coords="915,238,1233,253,1447,270,1664,296,1670,297,1669,302,1664,301,1447,276,1233,259,914,243"/>
<area shape="poly" title=" " alt="" coords="914,237,1059,240,1266,249,1509,267,1761,296,1760,302,1509,272,1266,255,1059,246,914,242"/>
<area shape="poly" title=" " alt="" coords="847,253,802,287,744,326,614,394,503,443,501,438,611,389,741,322,799,283,844,249"/>
<area shape="poly" title=" " alt="" coords="914,240,1326,267,1528,283,1592,290,1620,297,1627,311,1621,326,1590,354,1548,380,1496,403,1436,424,1297,458,1143,485,986,504,838,518,613,531,613,525,837,512,986,499,1143,479,1296,453,1434,419,1494,398,1545,375,1587,350,1616,322,1622,311,1617,301,1592,296,1527,289,1326,272,914,245"/>
<area shape="poly" title=" " alt="" coords="806,242,628,244,399,252,288,259,192,270,120,284,97,292,83,301,67,323,58,349,53,377,53,406,62,461,75,505,69,507,57,462,48,406,48,377,53,348,63,321,79,297,95,287,119,278,191,264,287,254,398,247,628,239,806,237"/>
<area shape="poly" title=" " alt="" coords="806,247,198,307,197,302,806,242"/>
<area shape="poly" title=" " alt="" coords="806,243,711,248,599,258,494,275,453,287,424,301,404,322,396,345,389,371,373,399,332,438,328,435,369,396,384,369,390,343,399,319,421,297,451,282,493,270,598,252,711,242,806,238"/>
<area shape="rect" title=" " alt="" coords="435,299,570,324"/>
<area shape="poly" title=" " alt="" coords="806,253,574,299,573,293,805,247"/>
<area shape="rect" title=" " alt="" coords="595,299,731,324"/>
<area shape="poly" title=" " alt="" coords="829,253,709,296,707,291,827,248"/>
<area shape="rect" title=" " alt="" coords="805,299,915,324"/>
<area shape="poly" title=" " alt="" coords="863,251,863,285,857,285,857,251"/>
<area shape="rect" title=" " alt="" coords="939,299,1125,324"/>
<area shape="poly" title=" " alt="" coords="889,248,992,291,990,296,887,253"/>
<area shape="rect" title=" " alt="" coords="1150,299,1269,324"/>
<area shape="poly" title=" " alt="" coords="915,248,1141,293,1140,299,914,253"/>
<area shape="rect" title=" " alt="" coords="1293,299,1467,324"/>
<area shape="poly" title=" " alt="" coords="915,244,1283,294,1283,299,914,249"/>
<area shape="rect" title=" " alt="" coords="1491,299,1607,324"/>
<area shape="poly" title=" " alt="" coords="915,241,1154,261,1478,296,1477,301,1154,266,914,246"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad49b2668735b6ee4b276f35ea318a420" id="r_ad49b2668735b6ee4b276f35ea318a420"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scope_8c.html#ad49b2668735b6ee4b276f35ea318a420">init_scope</a> (<a class="el" href="structScope.html">Scope</a> *scope, <a class="el" href="structScope.html">Scope</a> *parent, const char *name, <a class="el" href="structArenaAllocator.html">ArenaAllocator</a> *arena)</td></tr>
<tr class="memdesc:ad49b2668735b6ee4b276f35ea318a420"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a scope structure with enhanced metadata.  <br /></td></tr>
<tr class="separator:ad49b2668735b6ee4b276f35ea318a420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a894b950ef06bd5b9995ecb195c538e1a" id="r_a894b950ef06bd5b9995ecb195c538e1a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSymbol.html">Symbol</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scope_8c.html#a894b950ef06bd5b9995ecb195c538e1a">scope_lookup_with_visibility</a> (<a class="el" href="structScope.html">Scope</a> *scope, const char *name, <a class="el" href="structScope.html">Scope</a> *requesting_module_scope)</td></tr>
<tr class="memdesc:a894b950ef06bd5b9995ecb195c538e1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a symbol to the specified scope with duplicate checking.  <br /></td></tr>
<tr class="separator:a894b950ef06bd5b9995ecb195c538e1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72fc13c0d769b177cfec58c6553d9941" id="r_a72fc13c0d769b177cfec58c6553d9941"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scope_8c.html#a72fc13c0d769b177cfec58c6553d9941">get_current_function_name</a> (<a class="el" href="structScope.html">Scope</a> *scope)</td></tr>
<tr class="separator:a72fc13c0d769b177cfec58c6553d9941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4de35b9189af47a74af5b6a43e377342" id="r_a4de35b9189af47a74af5b6a43e377342"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scope_8c.html#a4de35b9189af47a74af5b6a43e377342">scope_add_symbol_with_ownership</a> (<a class="el" href="structScope.html">Scope</a> *scope, const char *name, <a class="el" href="structAstNode.html">AstNode</a> *type, bool is_public, bool is_mutable, bool returns_ownership, bool takes_ownership, <a class="el" href="structArenaAllocator.html">ArenaAllocator</a> *arena)</td></tr>
<tr class="separator:a4de35b9189af47a74af5b6a43e377342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8643b1368b97b3d1fbd2ef750698528a" id="r_a8643b1368b97b3d1fbd2ef750698528a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scope_8c.html#a8643b1368b97b3d1fbd2ef750698528a">scope_add_symbol</a> (<a class="el" href="structScope.html">Scope</a> *scope, const char *name, <a class="el" href="structAstNode.html">AstNode</a> *type, bool is_public, bool is_mutable, <a class="el" href="structArenaAllocator.html">ArenaAllocator</a> *arena)</td></tr>
<tr class="separator:a8643b1368b97b3d1fbd2ef750698528a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bb514bb718f89846960397abb096303" id="r_a3bb514bb718f89846960397abb096303"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structScope.html">Scope</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scope_8c.html#a3bb514bb718f89846960397abb096303">find_containing_module</a> (<a class="el" href="structScope.html">Scope</a> *scope)</td></tr>
<tr class="memdesc:a3bb514bb718f89846960397abb096303"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the containing module scope for a given scope.  <br /></td></tr>
<tr class="separator:a3bb514bb718f89846960397abb096303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2650233df11ead97ca28a4d63ceba19e" id="r_a2650233df11ead97ca28a4d63ceba19e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSymbol.html">Symbol</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scope_8c.html#a2650233df11ead97ca28a4d63ceba19e">scope_lookup</a> (<a class="el" href="structScope.html">Scope</a> *scope, const char *name)</td></tr>
<tr class="memdesc:a2650233df11ead97ca28a4d63ceba19e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Original scope_lookup - now wraps the visibility version.  <br /></td></tr>
<tr class="separator:a2650233df11ead97ca28a4d63ceba19e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a134001925a588eff6fd6185c932c8c61" id="r_a134001925a588eff6fd6185c932c8c61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSymbol.html">Symbol</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scope_8c.html#a134001925a588eff6fd6185c932c8c61">scope_lookup_current_only_with_visibility</a> (<a class="el" href="structScope.html">Scope</a> *scope, const char *name, <a class="el" href="structScope.html">Scope</a> *requesting_module_scope)</td></tr>
<tr class="memdesc:a134001925a588eff6fd6185c932c8c61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up a symbol only in the current scope with visibility rules.  <br /></td></tr>
<tr class="separator:a134001925a588eff6fd6185c932c8c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44228a15e734e21055fce43def66e2cd" id="r_a44228a15e734e21055fce43def66e2cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSymbol.html">Symbol</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scope_8c.html#a44228a15e734e21055fce43def66e2cd">scope_lookup_current_only</a> (<a class="el" href="structScope.html">Scope</a> *scope, const char *name)</td></tr>
<tr class="memdesc:a44228a15e734e21055fce43def66e2cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Original scope_lookup_current_only - now wraps the visibility version.  <br /></td></tr>
<tr class="separator:a44228a15e734e21055fce43def66e2cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af82b6787acd0e3ce732b3e81a9b8095b" id="r_af82b6787acd0e3ce732b3e81a9b8095b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structScope.html">Scope</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="scope_8c.html#af82b6787acd0e3ce732b3e81a9b8095b">create_child_scope</a> (<a class="el" href="structScope.html">Scope</a> *parent, const char *name, <a class="el" href="structArenaAllocator.html">ArenaAllocator</a> *arena)</td></tr>
<tr class="memdesc:af82b6787acd0e3ce732b3e81a9b8095b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new child scope under the specified parent.  <br /></td></tr>
<tr class="separator:af82b6787acd0e3ce732b3e81a9b8095b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of scope and symbol table management functions. </p>
<p>This file contains the implementation of the hierarchical scope system for symbol table management. It provides functionality for creating, managing, and searching through nested scopes with proper parent-child relationships and symbol resolution.</p>
<p>The scope system supports:</p><ul>
<li>Hierarchical scope creation with automatic depth tracking</li>
<li><a class="el" href="structSymbol.html" title="Represents a symbol with associated type and metadata.">Symbol</a> addition with duplicate detection</li>
<li>Multi-level symbol lookup with parent traversal</li>
<li>Automatic parent-child relationship management </li>
</ul>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af82b6787acd0e3ce732b3e81a9b8095b" name="af82b6787acd0e3ce732b3e81a9b8095b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af82b6787acd0e3ce732b3e81a9b8095b">&#9670;&#160;</a></span>create_child_scope()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structScope.html">Scope</a> * create_child_scope </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structScope.html">Scope</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structArenaAllocator.html">ArenaAllocator</a> *&#160;</td>
          <td class="paramname"><em>arena</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new child scope under the specified parent. </p>
<p>Allocates and initializes a new scope as a child of the given parent, automatically establishing the parent-child relationship and adding the new scope to the parent's children list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>Parent scope for the new child (NULL for root scope) </td></tr>
    <tr><td class="paramname">name</td><td>Descriptive name for the new scope </td></tr>
    <tr><td class="paramname">arena</td><td>Arena allocator for memory management </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the newly created and initialized child scope</dd></dl>
<p>Creation process:</p><ol type="1">
<li>Allocate memory for new <a class="el" href="structScope.html" title="Represents a lexical scope with hierarchical relationships.">Scope</a> structure from arena</li>
<li>Initialize the scope with proper parent linkage</li>
<li>Add the new scope to parent's children array (if parent exists)</li>
<li>Return pointer to fully initialized child scope</li>
</ol>
<dl class="section note"><dt>Note</dt><dd>The child scope is automatically added to the parent's children list, maintaining the bidirectional parent-child relationship for debugging and traversal purposes</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If memory allocation fails, this function may return NULL or an incompletely initialized scope. The caller should verify successful creation before using the returned scope.</dd>
<dd>
If adding the child to the parent's children array fails due to memory constraints, the child scope will still be created and functional, but won't appear in the parent's children list. </dd></dl>

</div>
</div>
<a id="a3bb514bb718f89846960397abb096303" name="a3bb514bb718f89846960397abb096303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bb514bb718f89846960397abb096303">&#9670;&#160;</a></span>find_containing_module()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structScope.html">Scope</a> * find_containing_module </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structScope.html">Scope</a> *&#160;</td>
          <td class="paramname"><em>scope</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the containing module scope for a given scope. </p>

</div>
</div>
<a id="a72fc13c0d769b177cfec58c6553d9941" name="a72fc13c0d769b177cfec58c6553d9941"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72fc13c0d769b177cfec58c6553d9941">&#9670;&#160;</a></span>get_current_function_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * get_current_function_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structScope.html">Scope</a> *&#160;</td>
          <td class="paramname"><em>scope</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad49b2668735b6ee4b276f35ea318a420" name="ad49b2668735b6ee4b276f35ea318a420"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad49b2668735b6ee4b276f35ea318a420">&#9670;&#160;</a></span>init_scope()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_scope </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structScope.html">Scope</a> *&#160;</td>
          <td class="paramname"><em>scope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structScope.html">Scope</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structArenaAllocator.html">ArenaAllocator</a> *&#160;</td>
          <td class="paramname"><em>arena</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a scope structure with enhanced metadata. </p>
<p>Sets up a new scope with proper initialization of all fields, including parent-child relationships, depth calculation, and growable arrays for symbols and children. The scope is fully prepared for symbol addition and child scope creation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scope</td><td>Pointer to the scope structure to initialize (must be pre-allocated) </td></tr>
    <tr><td class="paramname">parent</td><td>Parent scope for hierarchical lookup (NULL for global scope) </td></tr>
    <tr><td class="paramname">name</td><td>Descriptive name for debugging and identification (NULL becomes "unnamed") </td></tr>
    <tr><td class="paramname">arena</td><td>Arena allocator for all memory allocations within this scope</td></tr>
  </table>
  </dd>
</dl>
<p>Initialization includes:</p><ul>
<li>Parent pointer assignment and depth calculation</li>
<li>Name duplication into arena memory for persistence</li>
<li>Default flag initialization (not a function scope, no associated AST node)</li>
<li>Growable array setup with reasonable initial capacities (16 symbols, 8 children)</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The scope name is duplicated using arena allocation, ensuring it remains valid for the lifetime of the scope without external string management</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The scope parameter must point to valid, allocated memory. This function does not allocate the scope structure itself, only initializes it. </dd></dl>

</div>
</div>
<a id="a8643b1368b97b3d1fbd2ef750698528a" name="a8643b1368b97b3d1fbd2ef750698528a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8643b1368b97b3d1fbd2ef750698528a">&#9670;&#160;</a></span>scope_add_symbol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool scope_add_symbol </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structScope.html">Scope</a> *&#160;</td>
          <td class="paramname"><em>scope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAstNode.html">AstNode</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_public</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_mutable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structArenaAllocator.html">ArenaAllocator</a> *&#160;</td>
          <td class="paramname"><em>arena</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4de35b9189af47a74af5b6a43e377342" name="a4de35b9189af47a74af5b6a43e377342"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4de35b9189af47a74af5b6a43e377342">&#9670;&#160;</a></span>scope_add_symbol_with_ownership()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool scope_add_symbol_with_ownership </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structScope.html">Scope</a> *&#160;</td>
          <td class="paramname"><em>scope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAstNode.html">AstNode</a> *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_public</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_mutable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>returns_ownership</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>takes_ownership</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structArenaAllocator.html">ArenaAllocator</a> *&#160;</td>
          <td class="paramname"><em>arena</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2650233df11ead97ca28a4d63ceba19e" name="a2650233df11ead97ca28a4d63ceba19e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2650233df11ead97ca28a4d63ceba19e">&#9670;&#160;</a></span>scope_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSymbol.html">Symbol</a> * scope_lookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structScope.html">Scope</a> *&#160;</td>
          <td class="paramname"><em>scope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Original scope_lookup - now wraps the visibility version. </p>

</div>
</div>
<a id="a44228a15e734e21055fce43def66e2cd" name="a44228a15e734e21055fce43def66e2cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44228a15e734e21055fce43def66e2cd">&#9670;&#160;</a></span>scope_lookup_current_only()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSymbol.html">Symbol</a> * scope_lookup_current_only </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structScope.html">Scope</a> *&#160;</td>
          <td class="paramname"><em>scope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Original scope_lookup_current_only - now wraps the visibility version. </p>

</div>
</div>
<a id="a134001925a588eff6fd6185c932c8c61" name="a134001925a588eff6fd6185c932c8c61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a134001925a588eff6fd6185c932c8c61">&#9670;&#160;</a></span>scope_lookup_current_only_with_visibility()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSymbol.html">Symbol</a> * scope_lookup_current_only_with_visibility </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structScope.html">Scope</a> *&#160;</td>
          <td class="paramname"><em>scope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structScope.html">Scope</a> *&#160;</td>
          <td class="paramname"><em>requesting_module_scope</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look up a symbol only in the current scope with visibility rules. </p>

</div>
</div>
<a id="a894b950ef06bd5b9995ecb195c538e1a" name="a894b950ef06bd5b9995ecb195c538e1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a894b950ef06bd5b9995ecb195c538e1a">&#9670;&#160;</a></span>scope_lookup_with_visibility()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSymbol.html">Symbol</a> * scope_lookup_with_visibility </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structScope.html">Scope</a> *&#160;</td>
          <td class="paramname"><em>scope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structScope.html">Scope</a> *&#160;</td>
          <td class="paramname"><em>requesting_module_scope</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a symbol to the specified scope with duplicate checking. </p>
<p>Creates a new symbol entry in the given scope after verifying that no symbol with the same name already exists in the current scope. The symbol is fully initialized with the provided type information and attributes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scope</td><td>Target scope to add the symbol to </td></tr>
    <tr><td class="paramname">name</td><td><a class="el" href="structSymbol.html" title="Represents a symbol with associated type and metadata.">Symbol</a> name identifier (will be duplicated into arena memory) </td></tr>
    <tr><td class="paramname">type</td><td>AST node representing the symbol's type </td></tr>
    <tr><td class="paramname">is_public</td><td>Public accessibility flag for the symbol </td></tr>
    <tr><td class="paramname">is_mutable</td><td>Mutability flag indicating if the symbol can be modified </td></tr>
    <tr><td class="paramname">arena</td><td>Arena allocator for memory management </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if symbol was added successfully, false on error or duplicate name</dd></dl>
<p>Error conditions that return false:</p><ul>
<li><a class="el" href="structSymbol.html" title="Represents a symbol with associated type and metadata.">Symbol</a> name already exists in the current scope (not parent scopes)</li>
<li>Memory allocation failure during symbol array expansion</li>
</ul>
<p>Success conditions:</p><ul>
<li><a class="el" href="structSymbol.html" title="Represents a symbol with associated type and metadata.">Symbol</a> name is unique within the current scope</li>
<li>All memory allocations succeed</li>
<li><a class="el" href="structSymbol.html" title="Represents a symbol with associated type and metadata.">Symbol</a> is fully initialized and added to the scope's symbol array</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This function only checks for duplicates within the current scope, allowing for symbol shadowing of parent scope symbols</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The symbol name is duplicated into arena memory. The original name string can be freed or modified after this call without affecting the stored symbol. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
